# SQL API 
***
Api сервис на .NET CORE для работы с логами в базе данных

В разработке использован пакет Npgsql.EntityFramework.PostgreSQL 5.0.7

Функции Api находятся в классе LogApi

---
**SaveLog** 
---
Функция предназначенная для сохранения записей в базу данных
На вход принимает 4 параметра:
 - **date** (DateTime) - Дата и время события
 - **mesage** (String) - Текст сообытия
 - **level** (String) - Уровень логгирования
 - **source** (String) - Источник события
Возвращает:
 log.Id(Int) - Уникальный Id добавленной записи

---
**SearchByDate**
---
Поиск записей по диапазону дат и(или) времени.

На вход принимает:
 - startDate(DateTime) - Начало диапазна времени/дат.
 - endDate(DateTime) - Конец диапазна времени/дат.
 
Возвращает:
 - logs(List<Log>) - Список найденных записей в базе
---
**SearchByText**
---
Поиск записей по тексту или наззванию источника.

На вход принимает:
 - text(String) - Текст для поиска.
 
Возвращает:
 - logs(List<Log>) - Список найденных записей в базе
---
**SearchByLevel**
---
Поиск записей по уровню логгирования.

На вход принимает:
 - text(String) - Название уровня логов.
 
Возвращает:
 - logs(List<Log>) - Список найденных записей в базе
---
**RemoveEvent**
---
Удаление элементов по их id

На вход принимает:
 - idList(List<int>) - Список id для удаления.
 
Возвращает:
 - count(int) - Количество успешно удаленных записей
---
**GetStat**
---
Получение статистики по сохранным записям
 
Возвращает:
 - stat(Stat) - Структура данных содержащая статистику
---
Структура **Stat**
---
Структура данных содержащая статистику
 
Содержит:
 - CountEvent(int) - Общее количество записей
 - EventsByLevel(Dictionary<string, int>) - Количество записей по каждому уровню логгировния, словарь в формате *название уровня*-*кол-во записей*
 - EventsBySource(Dictionary<string, int>) - Количество записей по каждому источнику логов, словарь в формате *название источника*-*кол-во записей*
 
 ---
 
 ---
 
 ---
 
 <(￣︶￣)>
